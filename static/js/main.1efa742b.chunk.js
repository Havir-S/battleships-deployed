(this["webpackJsonpbattleships-deployed"]=this["webpackJsonpbattleships-deployed"]||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/gear.d27d156d.svg"},function(e,t,a){e.exports=a.p+"static/media/allyNormal.95d2e27f.png"},function(e,t,a){e.exports=a.p+"static/media/enemyNormal.36f8223a.png"},,,function(e,t,a){e.exports=a.p+"static/media/submarine.35c38dee.png"},function(e,t,a){e.exports=a.p+"static/media/captain5.01820855.png"},function(e,t,a){e.exports=a.p+"static/media/captainEnemy1.eb53902c.png"},function(e,t,a){e.exports=a.p+"static/media/rudder.26779c0c.svg"},function(e,t,a){e.exports=a.p+"static/media/exit.427e08d5.svg"},function(e,t,a){e.exports=a.p+"static/media/question.f0a4f4fc.svg"},function(e,t,a){e.exports=a.p+"static/media/allyScared.2591bd28.png"},function(e,t,a){e.exports=a.p+"static/media/enemyScared.695a8972.png"},function(e,t,a){e.exports=a(29)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(13),r=a.n(s),l=(a(27),a(8)),c=a(1),o=a(2),h=a(5),p=a(3),d=a(6),u=a(4),m=(a(28),{ships:{carriers:{name:"carriers",amount:3,health:1},battleships:{name:"battleships",amount:3,health:2},cruisers:{name:"cruisers",amount:3,health:3},submarines:{name:"submarines",amount:2,health:3},destroyers:{name:"destroyers",amount:1,health:4}},field:{x:10,y:10},startValues:{startX:"numbers",startY:"alphabet_AZ"}}),y={alphabet_az:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],alphabet_AZ:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],numbers:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]};function b(e){for(var t=[],a=Object.entries(e),n=0;n<a.length;n++)for(var i=0;i<a[n][1].amount;i++){var s=new v(a[n][1].name,a[n][1].health);t.push(s)}return t}var v=function(){function e(t,a){Object(c.a)(this,e),this.name=t,this.healthNumber=a,this.blocks=[],this.deployed=!1,this.changeValue=this.changeValue.bind(this),this.blockSet=this.blockSet.bind(this)}return Object(o.a)(e,[{key:"changeValue",value:function(e,t){this[e]=t}},{key:"blockSet",value:function(e,t,a,n){var i,s=e.split(","),r=s[0],l=s[1];if(this.blocks=[],"x"===t)for(var c=0;c<this.healthNumber;c++)i={x:Number(r)+c,y:Number(l),isHit:!1},this.blocks.push(i);else if("y"===t)for(var o=0;o<this.healthNumber;o++)i={x:Number(r),y:Number(l)+o,isHit:!1},this.blocks.push(i);var h=!0,p=!1,d=void 0;try{for(var u,m=this.blocks[Symbol.iterator]();!(h=(u=m.next()).done);h=!0){var y=u.value,b=y.x,v=y.y;if(y.x>n.y||y.y>n.x)return this.blocks=[],!1;var f=!0,g=!1,S=void 0;try{for(var E,k=a[Symbol.iterator]();!(f=(E=k.next()).done);f=!0){var O=E.value,C=!0,j=!1,V=void 0;try{for(var N,w=O.blocks[Symbol.iterator]();!(C=(N=w.next()).done);C=!0){var T=N.value,x=T.x,D=T.y;if(x===b&&D===v||b>n.y||v>n.x)return this.blocks=[],!1}}catch(A){j=!0,V=A}finally{try{C||null==w.return||w.return()}finally{if(j)throw V}}}}catch(A){g=!0,S=A}finally{try{f||null==k.return||k.return()}finally{if(g)throw S}}}}catch(A){p=!0,d=A}finally{try{h||null==m.return||m.return()}finally{if(p)throw d}}return!0}}]),e}(),f=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){for(var e=this.props.health,t=[],a=0;a<e;a++)t.push(i.a.createElement("div",{className:"grid-preview-element",key:a}));return i.a.createElement("div",{className:"grid-preview",style:{gridTemplateColumns:"repeat(".concat(e,", 1fr)")}},t)}}]),t}(i.a.Component),g=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"ship-row"},i.a.createElement("span",null,this.props.ship.name.toUpperCase()," "),i.a.createElement("div",{className:"ship-config"},i.a.createElement("span",{className:"signAction",onClick:function(){return e.props.shipChange("subtract","amount",e.props.ship.name)}},"-"),i.a.createElement("span",null,this.props.ship.amount),i.a.createElement("span",{className:"signAction",onClick:function(){return e.props.shipChange("add","amount",e.props.ship.name)}},"+ ")),this.props.hasAdvancedShipSettings&&i.a.createElement("div",{className:"ship-config"},i.a.createElement("span",{className:"signAction",onClick:function(){return e.props.shipChange("subtract","health",e.props.ship.name)}}," -"),i.a.createElement("span",null,this.props.ship.health),i.a.createElement("span",{className:"signAction",onClick:function(){return e.props.shipChange("add","health",e.props.ship.name)}},"+")),i.a.createElement(f,{health:this.props.ship.health}))}}]),t}(i.a.Component),S=a(9),E=a.n(S),k=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.field,a=t.x,n=t.y,s=Object.getOwnPropertyNames(this.props.staticValues);return i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"FIELD SETTINGS"),i.a.createElement("div",{className:"p-title"},"Size",i.a.createElement("div",{className:"gearIcon-container"},i.a.createElement("img",{className:"gearIcon",src:E.a,alt:"Show Advanced Grid Options",onClick:this.props.toggleAdvancedGridSettings}))),i.a.createElement("p",{className:"p-settings"},"x:",i.a.createElement("span",{className:"signAction",onClick:function(){return e.props.gridChangeSize("y","subtract")}},"-"),i.a.createElement("input",{type:"text",value:n,onChange:function(t){return e.props.gridChangeSizeInput(t,"y")}}),i.a.createElement("span",{className:"signAction",onClick:function(){return e.props.gridChangeSize("y","add")}},"+")),i.a.createElement("p",{className:"p-settings"},"y:",i.a.createElement("span",{className:"signAction",onClick:function(){return e.props.gridChangeSize("x","subtract")}},"-"),i.a.createElement("input",{type:"text",value:a,onChange:function(t){return e.props.gridChangeSizeInput(t,"x")}}),i.a.createElement("span",{className:"signAction",onClick:function(){return e.props.gridChangeSize("x","add")}},"+")),this.props.hasAdvancedGridSettings?i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"p-title"},"Naming"),i.a.createElement("p",{className:"p-settings"},"x:",i.a.createElement("select",{name:"startX",defaultValue:this.props.startValues.startX,onChange:this.props.changeStartValues},s.map((function(e){return i.a.createElement("option",{value:e,key:e},e)})))),i.a.createElement("p",{className:"p-settings"},"y:",i.a.createElement("select",{name:"startY",defaultValue:this.props.startValues.startY,onChange:this.props.changeStartValues},s.map((function(e){return i.a.createElement("option",{value:e,key:e},e)}))))):i.a.createElement(i.a.Fragment,null))}}]),t}(i.a.Component),O=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.maxValues[this.props.valuesToCheck],t=this.props.staticValues.slice(0,e);return i.a.createElement(i.a.Fragment,null,"y"===this.props.valuesToCheck?i.a.createElement("div",{className:"grid-side "+this.props.gridPosition,style:{gridTemplateColumns:"repeat(".concat(e,", 1fr)")}},t.map((function(e){return i.a.createElement("div",{key:e},e)}))):i.a.createElement("div",{className:"grid-side "+this.props.gridPosition},t.map((function(e){return i.a.createElement("div",{key:e},e)}))))}}]),t}(i.a.Component),C=function(e){function t(e){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"grid-preview-element"})}}]),t}(i.a.Component),j=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){for(var e=[],t=this.props.maxValues,a=t.x,n=t.y,s=1;s<=a;s++)for(var r=1;r<=n;r++)e.push(i.a.createElement(C,{key:"".concat(r,",").concat(s)}));return i.a.createElement("div",{className:"grid-preview-container"},i.a.createElement("p",null,"GRID PREVIEW"),i.a.createElement("div",{className:"grid-preview",style:{gridTemplate:"repeat(".concat(a,", 1fr) / repeat(").concat(n,", 1fr)")}},e))}}]),t}(i.a.Component),V=a(14),N=a.n(V),w=a(15),T=a.n(w),x=a(16),D=a.n(x),A=a(17),H=a.n(A),P=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={open:!1},a.handleClick=a.handleClick.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleClick",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(){return i.a.createElement("div",{className:"nav-container"},i.a.createElement("nav",{className:"main-nav"},i.a.createElement("div",{className:"logo-div"},i.a.createElement("img",{className:"logo-ship",src:N.a,alt:"battleship"}),i.a.createElement("img",{className:"mini-soldier mini-soldier-left",src:T.a,alt:"soldier"}),i.a.createElement("img",{className:"mini-soldier mini-soldier-right",src:D.a,alt:"soldier"}),i.a.createElement("div",{className:"logo-text"},"BATTLESHIPS")),i.a.createElement("div",{className:this.state.open?"author-div open":"author-div"},i.a.createElement("div",{className:"author",onClick:this.handleClick},i.a.createElement("span",null,"Author"),i.a.createElement("img",{className:"author-wheel",src:H.a,alt:"wheel"})),i.a.createElement("div",{className:"author-links"},i.a.createElement("div",{className:"author-link-container"},i.a.createElement("a",{className:"link"},"Github")),i.a.createElement("div",{className:"author-link-container"},i.a.createElement("a",{className:"link"},"Main Site"))))))}}]),t}(i.a.Component),B=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"middle-bar"},i.a.createElement("div",{className:"middle-bar-content"},i.a.createElement("div",{className:"middle"},this.props.children)))}}]),t}(i.a.Component),Y=(i.a.Component,function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={advancedShipSettings:!1,advancedGridSettings:!1},a.advancedShipSettingsToggle=a.advancedShipSettingsToggle.bind(Object(d.a)(a)),a.advancedGridSettingsToggle=a.advancedGridSettingsToggle.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"advancedShipSettingsToggle",value:function(){this.setState({advancedShipSettings:!this.state.advancedShipSettings})}},{key:"advancedGridSettingsToggle",value:function(){this.setState({advancedGridSettings:!this.state.advancedGridSettings})}},{key:"render",value:function(){var e,t,a,n=this;if("shipsSettingsTab"===this.props.currentViewedTab){e=this.props.ships,t=Object.getOwnPropertyNames(e),a=[];for(var s=0;s<t.length;s++)a.push(i.a.createElement(g,{ship:e[t[s]],key:t[s],hasAdvancedShipSettings:this.state.advancedShipSettings,shipChange:this.props.shipChange}))}return i.a.createElement("div",{className:"setup-tab"},i.a.createElement(P,null),i.a.createElement(B,null,function(){switch(n.props.currentViewedTab){case"sizeSettingsTab":return i.a.createElement("div",{className:"setup-grid"},i.a.createElement(k,{gridChangeSize:n.props.gridChangeSize,field:n.props.field,staticValues:n.props.staticValues,startValues:n.props.startValues,changeStartValues:n.props.changeStartValues,toggleAdvancedGridSettings:n.advancedGridSettingsToggle,hasAdvancedGridSettings:n.state.advancedGridSettings,gridChangeSizeInput:n.props.gridChangeSizeInput}),i.a.createElement("button",{onClick:function(){return n.props.changeCurrentViewedTab(n.props.currentViewedTab,"add")},type:"button"},"NEXT"),i.a.createElement(j,{maxValues:n.props.field,valueType:n.props.startValues.startY,staticValues:n.props.staticValues[n.props.startValues.startY]}));case"shipsSettingsTab":return i.a.createElement("div",{className:"setup-ships"},i.a.createElement("h2",null,"SHIPS SETTINGS",i.a.createElement("img",{className:"gearIcon",src:E.a,alt:"Show Advanced Ship Options",onClick:n.advancedShipSettingsToggle})),i.a.createElement("div",{className:"ships-info"},i.a.createElement("div",null,"AMOUNT"),i.a.createElement("div",null,"HEALTH")),a,i.a.createElement("button",{onClick:function(){return n.props.changeCurrentViewedTab(n.props.currentViewedTab,"add")},type:"button"},"NEXT"))}}()))}}]),t}(i.a.Component)),z=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"welcome-tab"},i.a.createElement(P,null),i.a.createElement(B,null,i.a.createElement("h2",null,"Welcome"),i.a.createElement("h2",null,"to"),i.a.createElement("h2",null,i.a.createElement("span",{className:"logo"},"BATTLESHIPS")),i.a.createElement("p",null,"A classic battleship game with a bit of customization:"),i.a.createElement("ul",null,i.a.createElement("li",null,"Choose maximum health of ships!"),i.a.createElement("li",null,"Choose maximum amount of ships!"),i.a.createElement("li",null,"Decide the size of the map!")),i.a.createElement("div",{className:"info"},i.a.createElement("p",null,"Made in REACT"),i.a.createElement("p",null,"With GIMP and BLENDER")),i.a.createElement("button",{type:"button",onClick:function(){return e.props.changeCurrentViewedTab(e.props.currentViewedTab,"add")}},"START")))}}]),t}(i.a.Component),I=a(7),G=a(18),X=a.n(G),M=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"helper"},i.a.createElement("div",{className:"helper-container"},i.a.createElement("div",{className:"help-main"},i.a.createElement("img",{className:"exitIcon",src:X.a,alt:"exit",onClick:this.props.handler}),i.a.createElement("h2",null,"Game not starting?"),i.a.createElement("p",null,"Check if all the ships are deployed from the hangar, you cannot sail away without taking all your ships!"),i.a.createElement("p",null,'You can change the direction of placing by clicking on the button "Current Placement Direction".'),i.a.createElement("p",null,'To relocate a ship, simply click on it on the main grid! It will return to the "SHIPS TO DEPLOY" box.'),i.a.createElement("button",{onClick:this.props.handler},"GOT IT"))))}}]),t}(i.a.Component),q=a(19),L=a.n(q),R=function(e){function t(e){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{"data-coords":"".concat(this.props.coordX,",").concat(this.props.coordY),className:"square",onClick:function(t){e.props.handleShipClick(t)}})}}]),t}(i.a.Component),W=function(e){function t(e){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{"data-coords":"".concat(this.props.coordX,",").concat(this.props.coordY),className:"square ship",onClick:function(t){e.props.handleShipClick(e.props.ship,"remove")}})}}]),t}(i.a.Component),F=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={choosenShipDiv:"",choosenShipClass:"",deploymentDirection:"x",shipHp:1,helpEnabled:!1},a.assignShip=a.assignShip.bind(Object(d.a)(a)),a.handleShipClick=a.handleShipClick.bind(Object(d.a)(a)),a.handleDeploymentDirection=a.handleDeploymentDirection.bind(Object(d.a)(a)),a.toggleHelp=a.toggleHelp.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"toggleHelp",value:function(){this.setState({helpEnabled:!this.state.helpEnabled})}},{key:"assignShip",value:function(e,t){"object"===typeof this.state.choosenShipDiv&&this.state.choosenShipDiv.classList.remove("choosenShip"),e.target.classList.add("choosenShip"),this.setState({choosenShipDiv:e.target,choosenShipClass:t,shipHp:t.healthNumber})}},{key:"handleShipClick",value:function(e,t){if("remove"===t)this.props.handlePlayerDeployedShips(e,"remove"),this.setState({choosenShipDiv:"",choosenShipClass:""});else if("object"===typeof this.state.choosenShipDiv){this.state.choosenShipDiv.classList.remove("choosenShip");var a=e.target.getAttribute("data-coords");this.state.choosenShipClass.blockSet(a,this.state.deploymentDirection,this.props.playerDeployedShips,this.props.maxValues)?(this.state.choosenShipClass.changeValue("deployed",!0),this.props.handlePlayerDeployedShips(this.state.choosenShipClass,"add")):console.log("Action stopped, because of overlapping ships"),this.setState({choosenShipDiv:"",choosenShipClass:""})}}},{key:"handleDeploymentDirection",value:function(){"x"===this.state.deploymentDirection?this.setState({deploymentDirection:"y"}):this.setState({deploymentDirection:"x"})}},{key:"render",value:function(){for(var e=this,t=this.props.maxValues,a=t.x,n=t.y,s=[],r=1;r<=a;r++)for(var l=1;l<=n;l++)s.push(i.a.createElement(R,{coordX:l,coordY:r,handleShipClick:this.handleShipClick,key:"".concat(l,",").concat(r)}));for(var c=0;c<s.length;c++){var o=s[c].key.split(","),h=Object(I.a)(o,2),p=h[0],d=h[1],u=!0,m=!1,y=void 0;try{for(var b,v=this.props.playerDeployedShips[Symbol.iterator]();!(u=(b=v.next()).done);u=!0){var f=b.value,g=!0,S=!1,E=void 0;try{for(var k,C=f.blocks[Symbol.iterator]();!(g=(k=C.next()).done);g=!0){var j=k.value,V=j.x,N=j.y;if(V===Number(p)&&N===Number(d)){var w=i.a.createElement(W,{key:"".concat(V,",").concat(N),coordX:V,coordY:N,handleShipClick:this.handleShipClick,ship:f});s.splice(s.indexOf(s[c]),1,w)}}}catch(D){S=!0,E=D}finally{try{g||null==C.return||C.return()}finally{if(S)throw E}}}}catch(D){m=!0,y=D}finally{try{u||null==v.return||v.return()}finally{if(m)throw y}}}var T=[];this.props.playerShips.filter((function(e){return!1===e.deployed})).map((function(t,a){T.push(i.a.createElement("div",{className:"ship",key:a,style:{width:"".concat(30*t.healthNumber+(5*t.healthNumber-5),"px")},onClick:function(a){return e.assignShip(a,t)}}))}));var x=this.state.choosenShipDiv?"grid-while-placing":"";return i.a.createElement("div",{className:"grid-tab"},i.a.createElement(P,null),i.a.createElement(B,null,this.state.helpEnabled&&i.a.createElement(M,{handler:this.toggleHelp}),i.a.createElement("div",{className:"preparation"},i.a.createElement("div",{className:"grid-wrap"},i.a.createElement("div",{className:"grid ".concat(x),style:{gridTemplate:"repeat(".concat(a,", 1fr) / repeat(").concat(n,", 1fr)")},"data-direction":this.state.deploymentDirection,"data-shiphp":this.state.shipHp},i.a.createElement(O,{gridPosition:"grid-top",valueType:this.props.startValues.startY,maxValues:this.props.maxValues,staticValues:this.props.staticValues[this.props.startValues.startY],valuesToCheck:"y"}),i.a.createElement(O,{gridPosition:"grid-left",valueType:this.props.startValues.startX,maxValues:this.props.maxValues,staticValues:this.props.staticValues[this.props.startValues.startX],valuesToCheck:"x"}),s)),i.a.createElement("div",{className:"shipsHangar"},i.a.createElement("h2",null,"SHIPS TO DEPLOY"),T)),i.a.createElement("button",{onClick:function(){return e.props.changeCurrentViewedTab(e.props.currentViewedTab,"add")},disabled:this.props.playerDeployedShips.length!==this.props.playerShips.length,type:"button",style:{margin:"0 0 65px 30px"}},"START THE GAME"),i.a.createElement("img",{className:"question-mark",src:L.a,alt:"question",onClick:this.toggleHelp}),i.a.createElement("button",{onClick:this.handleDeploymentDirection,style:{margin:"0 35px"},type:"button"},"Current Placement Direction: ",this.state.deploymentDirection)))}}]),t}(i.a.Component),U=function(e){function t(e){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t=this;return e=i.a.createElement("div",{"data-coords":"".concat(this.props.coordX,",").concat(this.props.coordY),className:"square squareEnemy ".concat(this.props.additionalClass),onClick:function(e){return t.props.handleEnemyHit(t.props.coordX,t.props.coordY)}}),i.a.createElement(i.a.Fragment,null,e)}}]),t}(i.a.Component),J=function(e){function t(e){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t=this;return e=i.a.createElement("div",{"data-coords":"".concat(this.props.coordX,",").concat(this.props.coordY),className:"square squareEnemy ".concat(this.props.additionalClass),onClick:function(e){return t.props.handleEnemyHit(t.props.coordX,t.props.coordY,t.props.ship)}}),i.a.createElement(i.a.Fragment,null,e)}}]),t}(i.a.Component),Z=function(e){function t(e){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e;return e=this.props.currentHpBlock.isHit?i.a.createElement("div",{"data-coords":"".concat(this.props.coordX,",").concat(this.props.coordY),className:"square ship shipHit"}):i.a.createElement("div",{"data-coords":"".concat(this.props.coordX,",").concat(this.props.coordY),className:"square ship"}),i.a.createElement(i.a.Fragment,null,e)}}]),t}(i.a.Component),_=function(e){function t(e){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{"data-coords":"".concat(this.props.coordX,",").concat(this.props.coordY),className:"square ".concat(this.props.additionalClass)})}}]),t}(i.a.Component),K=function(e){function t(e){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t=[];if("player"===this.props.owner){e="player";for(var a=this.props.maxValues,n=a.x,s=a.y,r=1;r<=n;r++)for(var l=1;l<=s;l++){var c="",o=!0,h=!1,p=void 0;try{for(var d,u=this.props.alreadyShotByAi[Symbol.iterator]();!(o=(d=u.next()).done);o=!0){var m=d.value;m[0]===l&&m[1]===r&&(c="hitSquare")}}catch(ve){h=!0,p=ve}finally{try{o||null==u.return||u.return()}finally{if(h)throw p}}t.push(i.a.createElement(_,{coordX:l,coordY:r,key:"".concat(l,",").concat(r),additionalClass:c}))}for(var y=0;y<t.length;y++){var b=t[y].key.split(","),v=Object(I.a)(b,2),f=v[0],g=v[1],S=!0,E=!1,k=void 0;try{for(var O,C=this.props.playerDeployedShips[Symbol.iterator]();!(S=(O=C.next()).done);S=!0){var j=O.value,V=!0,N=!1,w=void 0;try{for(var T,x=j.blocks[Symbol.iterator]();!(V=(T=x.next()).done);V=!0){var D=T.value,A=D.x,H=D.y;if(A===Number(f)&&H===Number(g)){var P=i.a.createElement(Z,{key:"".concat(A,",").concat(H),coordX:A,coordY:H,currentHpBlock:D,handleHit:this.props.handleHit,ship:j});t.splice(t.indexOf(t[y]),1,P)}}}catch(ve){N=!0,w=ve}finally{try{V||null==x.return||x.return()}finally{if(N)throw w}}}}catch(ve){E=!0,k=ve}finally{try{S||null==C.return||C.return()}finally{if(E)throw k}}}}else if("ai"===this.props.owner){for(var B=this.props.maxValues,Y=B.x,z=B.y,G=1;G<=Y;G++)for(var X=1;X<=z;X++){var M="",q=!0,L=!1,R=void 0;try{for(var W,F=this.props.alreadyShotByPlayer[Symbol.iterator]();!(q=(W=F.next()).done);q=!0){var K=W.value;K[0]===X&&K[1]===G&&(M="hitSquare")}}catch(ve){L=!0,R=ve}finally{try{q||null==F.return||F.return()}finally{if(L)throw R}}t.push(i.a.createElement(U,{coordX:X,coordY:G,key:"".concat(X,",").concat(G),handleEnemyHit:this.props.handleEnemyHit,additionalClass:M}))}for(y=0;y<t.length;y++){var Q=t[y].key.split(","),$=Object(I.a)(Q,2),ee=$[0],te=$[1],ae=!0,ne=!1,ie=void 0;try{for(var se,re=this.props.aiDeployedShips[Symbol.iterator]();!(ae=(se=re.next()).done);ae=!0){var le=se.value,ce=!0,oe=!1,he=void 0;try{for(var pe,de=le.blocks[Symbol.iterator]();!(ce=(pe=de.next()).done);ce=!0){var ue=pe.value,me=ue.x,ye=ue.y;if(me===Number(ee)&&ye===Number(te)){var be=void 0;be=ue.isHit?i.a.createElement(J,{key:"".concat(me,",").concat(ye),coordX:me,coordY:ye,handleEnemyHit:this.props.handleEnemyHit,additionalClass:"shipEnemyHit hitShip",ship:le}):i.a.createElement(J,{key:"".concat(me,",").concat(ye),coordX:me,coordY:ye,handleEnemyHit:this.props.handleEnemyHit,additionalClass:"",ship:le}),t.splice(t.indexOf(t[y]),1,be)}}}catch(ve){oe=!0,he=ve}finally{try{ce||null==de.return||de.return()}finally{if(oe)throw he}}}}catch(ve){ne=!0,ie=ve}finally{try{ae||null==re.return||re.return()}finally{if(ne)throw ie}}}e="ai"}return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"game-grid ".concat(e),style:{gridTemplate:"repeat(".concat(this.props.maxValues.x,", 1fr) / repeat(").concat(this.props.maxValues.y,", 1fr)")}},void 0,t))}}]),t}(i.a.Component),Q=function(e){function t(e){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.history.map((function(e,t){return e.includes("hit")?i.a.createElement("p",{className:"hit",key:t},e):i.a.createElement("p",{className:"miss",key:t},e)}));return i.a.createElement("div",{className:"history-tab"},e)}}]),t}(i.a.Component),$=a(10),ee=a.n($),te=a(11),ae=a.n(te),ne=a(20),ie=a.n(ne),se=a(21),re=a.n(se);function le(){window.location.reload()}var ce=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=this.props.aiShips[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var s=n.value,r=void 0,l=void 0,c=void 0;do{r=Math.round(Math.random())?"x":"y",l=Math.ceil(Math.random()*this.props.maxValues.x),c=Math.ceil(Math.random()*this.props.maxValues.y)}while(!1===s.blockSet("".concat(l,",").concat(c),r,this.props.aiDeployedShips,this.props.maxValues));s.blockSet("".concat(l,",").concat(c),r,this.props.aiDeployedShips,this.props.maxValues)&&this.props.handleAiShips(s)}}catch(o){t=!0,a=o}finally{try{e||null==i.return||i.return()}finally{if(t)throw a}}}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"game-tab"},i.a.createElement(P,null),i.a.createElement(B,null,i.a.createElement("div",{className:"game-div"},i.a.createElement("div",{className:"player-window"},i.a.createElement(K,{owner:"player",playerDeployedShips:this.props.playerDeployedShips,maxValues:this.props.maxValues,handleHit:this.props.handleHit,alreadyShotByAi:this.props.alreadyShotByAi,alreadyShotByPlayer:this.props.alreadyShotByPlayer}),i.a.createElement("h2",null,"PLAYER")),i.a.createElement("div",{className:"ai-window"},i.a.createElement(K,{owner:"ai",playerDeployedShips:this.props.playerDeployedShips,aiDeployedShips:this.props.aiDeployedShips,maxValues:this.props.maxValues,handleEnemyHit:this.props.handleEnemyHit,alreadyShotByAi:this.props.alreadyShotByAi,alreadyShotByPlayer:this.props.alreadyShotByPlayer}),i.a.createElement("h2",null,"ENEMY")),function(){if(""!==e.props.winner)return i.a.createElement("div",{className:"end-tab"},i.a.createElement("h2",null,"GAME OVER"),i.a.createElement("h3",null,"The winner is ",e.props.winner),i.a.createElement("button",{style:{display:"block"},onClick:le},"PLAY AGAIN?"))}()),i.a.createElement("div",{className:"game-comment"},i.a.createElement("div",{className:"player-face"},i.a.createElement("img",{className:"face",src:"PLAYER"===this.props.winner?ee.a:""===this.props.winner?ee.a:ie.a,alt:"captain-ally"})),i.a.createElement(Q,{history:this.props.history}),i.a.createElement("div",{className:"ai-face"},i.a.createElement("img",{className:"face",src:"ENEMY"===this.props.winner?ae.a:""===this.props.winner?ae.a:re.a,alt:"captain-enemy"})))))}}]),t}(i.a.Component),oe=["welcomeTab","sizeSettingsTab","shipsSettingsTab","gridTab","gameTab"],he=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={playerShips:[],playerDeployedShips:[],aiShips:[],aiDeployedShips:[],ships:m.ships,field:m.field,startValues:m.startValues,currentViewedTab:oe[0],actionsHistory:[],turn:"player",alreadyShotByAi:[],alreadyShotByPlayer:[],allShipsHp:0,winner:"",gameEnded:!1},a.shipChange=a.shipChange.bind(Object(d.a)(a)),a.gridChangeSize=a.gridChangeSize.bind(Object(d.a)(a)),a.gridChangeSizeInput=a.gridChangeSizeInput.bind(Object(d.a)(a)),a.changeCurrentViewedTab=a.changeCurrentViewedTab.bind(Object(d.a)(a)),a.changeStartValues=a.changeStartValues.bind(Object(d.a)(a)),a.handlePlayerDeployedShips=a.handlePlayerDeployedShips.bind(Object(d.a)(a)),a.handleHit=a.handleHit.bind(Object(d.a)(a)),a.checkWinner=a.checkWinner.bind(Object(d.a)(a)),a.handleEnemyHit=a.handleEnemyHit.bind(Object(d.a)(a)),a.handleAiDeployedShips=a.handleAiDeployedShips.bind(Object(d.a)(a)),a.handleAiShips=a.handleAiShips.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({playerShips:b(m.ships),aiShips:b(m.ships)})}},{key:"shipChange",value:function(e,t,a){var n=this.state.ships;if("add"===e)this.state.ships[a][t],n[a][t]+=1;else if("subtract"===e){if("amount"===t&&0===this.state.ships[a][t]||"health"===t&&1===this.state.ships[a][t])return;n[a][t]-=1}this.setState({ships:n}),this.setState({playerShips:b(n),aiShips:b(n)})}},{key:"gridChangeSize",value:function(e,t){if(!(e>1&&"subtract"===t))if("add"===t&&this.state.field[e]<26){var a=this.state.field;a[e]+=1,this.setState({field:a})}else if("subtract"===t&&this.state.field[e]>1){var n=this.state.field;n[e]-=1,this.setState({field:n})}}},{key:"gridChangeSizeInput",value:function(e,t){if(!(/\D/.test(e.target.value)||e.target.value>25)){var a=this.state.field;a[t]=e.target.value,this.setState({field:a})}}},{key:"changeCurrentViewedTab",value:function(e,t){var a;this.state.field.x>26||this.state.field.y>26||("add"===t?a=oe[oe.indexOf(e)+1]:"subtract"===t&&(a=oe[oe.indexOf(e)-1]),this.setState({currentViewedTab:a}))}},{key:"changeStartValues",value:function(e){var t=this.state.startValues;t[e.target.name]=e.target.value,this.setState({startValues:t})}},{key:"handlePlayerDeployedShips",value:function(e,t){if("add"===t){var a=this.state.playerDeployedShips;a.push(e),this.setState({playerDeployedShips:a})}else if("remove"===t){e.deployed=!1,e.blocks=[];var n=this.state.playerDeployedShips;n.splice(n.indexOf(e),1),this.setState({playerDeployedShips:n})}}},{key:"handleAiShips",value:function(e){var t=this.state.aiDeployedShips;e.deployed=!0,t.push(e),this.setState({aiDeployedShips:t})}},{key:"handleAiDeployedShips",value:function(e,t){var a=this.state.aiDeployedShips;a.push(e),this.setState({aiDeployedShips:a})}},{key:"handleHit",value:function(e,t){if(!t.isHit){var a=this.state.playerDeployedShips;t.isHit=!0,this.setState({playerDeployedShips:a})}}},{key:"handleEnemyHit",value:function(e,t,a){if(!this.state.gameEnded&&!this.state.alreadyShotByPlayer.filter((function(a){return a[0]===e&&a[1]===t})).length)if(a){a.blocks.filter((function(a){return a.x===e&&a.y===t}))[0].isHit=!0,a.blocks.every((function(e){return!0===e.isHit}))&&(console.log("the ship has sunk"),this.checkWinner());var n=this.state.actionsHistory;n.unshift("Player shoots and hits at ".concat(e,",").concat(t,"!"));var i=this.state.alreadyShotByPlayer;i.push([e,t]),this.setState({turn:"player",actionsHistory:n,alreadyShotByPlayer:i})}else{var s=this.state.actionsHistory;s.unshift("Player misses at ".concat(e,",").concat(t,"!"));var r=this.state.alreadyShotByPlayer;r.push([e,t]),this.setState({turn:"ai",actionsHistory:s,alreadyShotByPlayer:r})}}},{key:"checkWinner",value:function(){this.state.gameEnded||(this.state.playerDeployedShips.filter((function(e){return e.blocks.every((function(e){return!0===e.isHit}))})).length!==this.state.playerDeployedShips.length?this.state.aiDeployedShips.filter((function(e){return e.blocks.every((function(e){return!0===e.isHit}))})).length!==this.state.aiDeployedShips.length||this.setState({gameEnded:!0,winner:"PLAYER"}):this.setState({gameEnded:!0,winner:"ENEMY"}))}},{key:"componentDidUpdate",value:function(){var e=this;if(!this.state.gameEnded&&"ai"===this.state.turn){var t=function(){var t,a,n;if(e.state.alreadyShotByAi.length===e.state.field.x*e.state.field.y)return{v:void 0};do{t=Math.ceil(Math.random()*e.state.field.y),a=Math.ceil(Math.random()*e.state.field.x)}while(e.state.alreadyShotByAi.filter((function(e){return e[0]===t&&e[1]===a})).length);var i=!0,s=!1,r=void 0;try{for(var l,c=e.state.playerDeployedShips[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var o=l.value.blocks.filter((function(e){return e.x===t&&e.y===a}))[0];if(o){o.isHit=!0,(n=e.state.alreadyShotByAi).push([t,a]);var h=e.state.actionsHistory;return h.unshift("Ai shoots and hits at ".concat(t,",").concat(a,"!")),e.checkWinner(),e.setState({turn:"ai",alreadyShotByAi:n,actionsHistory:h}),{v:void 0}}}}catch(d){s=!0,r=d}finally{try{i||null==c.return||c.return()}finally{if(s)throw r}}(n=e.state.alreadyShotByAi).push([t,a]);var p=e.state.actionsHistory;p.unshift("Ai MISSES at ".concat(t,",").concat(a,"!")),e.setState({turn:"player",alreadyShotByAi:n,actionsHistory:p})}();if("object"===typeof t)return t.v}}},{key:"render",value:function(){var e,t,a;switch(this.state.currentViewedTab){case"welcomeTab":a=i.a.createElement(z,{currentViewedTab:this.state.currentViewedTab,changeCurrentViewedTab:this.changeCurrentViewedTab});break;case"sizeSettingsTab":a=i.a.createElement(Y,(e={ships:this.state.ships,shipChange:this.shipChange,currentViewedTab:this.props.currentViewedTab,changeCurrentViewedTab:this.changeCurrentViewedTab,hasAdvancedSettings:this.state.advancedSettings,advancedSettingsToggle:this.advancedSettingsToggle,gridChangeSize:this.gridChangeSize,gridChangeSizeInput:this.gridChangeSizeInput,field:this.state.field,startValues:this.state.startValues,staticValues:y,changeStartValues:this.changeStartValues},Object(l.a)(e,"currentViewedTab",this.state.currentViewedTab),Object(l.a)(e,"changeCurrentViewedTab",this.changeCurrentViewedTab),e));break;case"shipsSettingsTab":a=i.a.createElement(Y,(t={ships:this.state.ships,shipChange:this.shipChange,currentViewedTab:this.props.currentViewedTab,changeCurrentViewedTab:this.changeCurrentViewedTab,hasAdvancedSettings:this.state.advancedSettings,advancedSettingsToggle:this.advancedSettingsToggle,gridChangeSize:this.gridChangeSize,gridChangeSizeInput:this.gridChangeSizeInput,field:this.state.field,startValues:this.state.startValues,staticValues:y,changeStartValues:this.changeStartValues},Object(l.a)(t,"currentViewedTab",this.state.currentViewedTab),Object(l.a)(t,"changeCurrentViewedTab",this.changeCurrentViewedTab),t));break;case"gridTab":a=i.a.createElement(F,{maxValues:this.state.field,startValues:this.state.startValues,staticValues:y,currentViewedTab:this.state.currentViewedTab,changeCurrentViewedTab:this.changeCurrentViewedTab,test:this.state,playerShips:this.state.playerShips,playerDeployedShips:this.state.playerDeployedShips,handlePlayerDeployedShips:this.handlePlayerDeployedShips});break;case"gameTab":a=i.a.createElement(ce,{currentViewedTab:this.state.currentViewedTab,changeCurrentViewedTab:this.changeCurrentViewedTab,playerDeployedShips:this.state.playerDeployedShips,handleAiDeployedShips:this.handleAiDeployedShips,handleAiShips:this.handleAiShips,aiShips:this.state.aiShips,aiDeployedShips:this.state.aiDeployedShips,maxValues:this.state.field,startValues:this.state.startValues,staticValues:y,handleHit:this.handleHit,handleEnemyHit:this.handleEnemyHit,history:this.state.actionsHistory,winner:this.state.winner,alreadyShotByAi:this.state.alreadyShotByAi,alreadyShotByPlayer:this.state.alreadyShotByPlayer})}return i.a.createElement("div",{className:"App"},a)}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(he,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[22,1,2]]]);
//# sourceMappingURL=main.1efa742b.chunk.js.map